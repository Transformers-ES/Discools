{"file_contents":{"src/main/java/Transformers/Discools/DiscoolsApplication.java":{"content":"package Transformers.Discools;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class DiscoolsApplication {\n\n\tpublic static void main(String[] args) {\n\t\tSpringApplication.run(DiscoolsApplication.class, args);\n\t}\n\n}\n","size_bytes":318},"src/test/java/Transformers/Discools/DiscoolsApplicationTests.java":{"content":"package Transformers.Discools;\n\nimport org.junit.jupiter.api.Test;\nimport org.springframework.boot.test.context.SpringBootTest;\n\n@SpringBootTest\nclass DiscoolsApplicationTests {\n\n\t@Test\n\tvoid contextLoads() {\n\t}\n\n}\n","size_bytes":215},"src/main/java/Transformers/Discools/model/Usuario.java":{"content":"package Transformers.Discools.model;\n\npublic class Usuario {\n    private int id;\n    private String nome;\n    private String email;\n    private String senha;\n    private String endereco;\n    private boolean admin;\n\n    public Usuario() {}\n\n    public Usuario(int id, String nome, String email, String senha, String endereco, boolean admin) {\n        this.id = id;\n        this.nome = nome;\n        this.email = email;\n        this.senha = senha;\n        this.endereco = endereco;\n        this.admin = admin;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getNome() {\n        return nome;\n    }\n\n    public void setNome(String nome) {\n        this.nome = nome;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getSenha() {\n        return senha;\n    }\n\n    public void setSenha(String senha) {\n        this.senha = senha;\n    }\n\n    public String getEndereco() {\n        return endereco;\n    }\n\n    public void setEndereco(String endereco) {\n        this.endereco = endereco;\n    }\n\n    public boolean EhAdministrador() {\n        return admin;\n    }\n\n    public void setAdmin(boolean admin) {\n        this.admin = admin;\n    }\n}\n","size_bytes":1329},"src/main/java/Transformers/Discools/repository/Banco.java":{"content":"    package Transformers.Discools.repository;\n\n    import Transformers.Discools.model.*;\n\n    import java.util.ArrayList;\n    import java.util.List;\n\n    public class Banco {\n\n        // ===================== LISTAS DE DADOS (STATIC) =====================\n        private static List<Usuario> listaUsuarios = new ArrayList<>();\n        private static List<DiscosCD> listaDiscos = new ArrayList<>();\n        private static List<ItemDoPedido> listaItensPedido = new ArrayList<>();\n        private static List<Pedido> listaPedidos = new ArrayList<>();\n        private static List<CategoriaDisco> listaCategorias = new ArrayList<>();\n\n        // ===================== CONTADORES DE IDs (STATIC) =====================\n        private static int idUsuario = 1;\n        private static int idDisco = 1;\n        private static int idItemPedido = 1;\n        private static int idPedido = 1;\n\n        // ===================== CONSTRUTOR PRIVADO (NÃO USADO) =====================\n        private Banco() {}\n\n        // ===================== MÉTODOS DE USUÁRIO =====================\n        public static void adicionarUsuario(Usuario novoUsuario) {\n            novoUsuario.setId(idUsuario++);\n            listaUsuarios.add(novoUsuario);\n        }\n\n        public static List<Usuario> obterTodosUsuarios() {\n            return listaUsuarios;\n        }\n\n        public static Usuario buscarUsuarioPorId(int id) {\n            return listaUsuarios.stream()\n                    .filter(u -> u.getId() == id)\n                    .findFirst()\n                    .orElse(null);\n        }\n\n        public static void atualizarUsuario(Usuario usuarioAtualizado) {\n            for (int i = 0; i < listaUsuarios.size(); i++) {\n                if (listaUsuarios.get(i).getId() == usuarioAtualizado.getId()) {\n                    listaUsuarios.set(i, usuarioAtualizado);\n                    return;\n                }\n            }\n        }\n\n        public static void removerUsuario(int id) {\n            listaUsuarios.removeIf(u -> u.getId() == id);\n        }\n\n        // ===================== MÉTODOS DE DISCO =====================\n        public static void adicionarDisco(DiscosCD novoDisco) {\n            novoDisco.setId(idDisco++);\n            listaDiscos.add(novoDisco);\n        }\n\n        public static List<DiscosCD> obterTodosDiscos() {\n            return listaDiscos;\n        }\n\n        public static DiscosCD buscarDiscoPorId(int id) {\n            return listaDiscos.stream()\n                    .filter(d -> d.getId() == id)\n                    .findFirst()\n                    .orElse(null);\n        }\n\n        public static void atualizarDisco(DiscosCD discoAtualizado) {\n            for (int i = 0; i < listaDiscos.size(); i++) {\n                if (listaDiscos.get(i).getId() == discoAtualizado.getId()) {\n                    listaDiscos.set(i, discoAtualizado);\n                    return;\n                }\n            }\n        }\n\n        public static void removerDisco(int id) {\n            listaDiscos.removeIf(d -> d.getId() == id);\n        }\n\n        // ===================== MÉTODOS DE ITENS DO PEDIDO =====================\n        public static void adicionarItemPedido(ItemDoPedido novoItem) {\n            novoItem.setId(idItemPedido++);\n            listaItensPedido.add(novoItem);\n        }\n\n        public static List<ItemDoPedido> obterTodosItensPedido() {\n            return listaItensPedido;\n        }\n\n        public static ItemDoPedido buscarItemPedidoPorId(int id) {\n            return listaItensPedido.stream()\n                    .filter(i -> i.getId() == id)\n                    .findFirst()\n                    .orElse(null);\n        }\n\n        public static void removerItemPedido(int id) {\n            listaItensPedido.removeIf(i -> i.getId() == id);\n        }\n\n        // ===================== MÉTODOS DE PEDIDO =====================\n        public static void adicionarPedido(Pedido novoPedido) {\n            novoPedido.setId(idPedido++);\n            listaPedidos.add(novoPedido);\n        }\n\n        public static List<Pedido> obterTodosPedidos() {\n            return listaPedidos;\n        }\n\n        public static Pedido buscarPedidoPorId(int id) {\n            return listaPedidos.stream()\n                    .filter(p -> p.getId() == id)\n                    .findFirst()\n                    .orElse(null);\n        }\n\n        public static void removerPedido(int id) {\n            listaPedidos.removeIf(p -> p.getId() == id);\n        }\n\n        // ===================== MÉTODOS DE CATEGORIA =====================\n        public static void adicionarCategoria(CategoriaDisco novaCategoria) {\n            listaCategorias.add(novaCategoria);\n        }\n\n        public static List<CategoriaDisco> obterTodasCategorias() {\n            return listaCategorias;\n        }\n\n        public static CategoriaDisco buscarCategoriaPorId(int id){\n            return listaCategorias.stream()\n                    .filter(c -> c.getId() == id)\n                    .findFirst()\n                    .orElse(null);\n        }\n\n        public static CategoriaDisco buscarCategoriaPorNome(String nome) {\n            return listaCategorias.stream()\n                    .filter(c -> c.getNomeCategoriaDisco().equals(nome))\n                    .findFirst()\n                    .orElse(null);\n        }\n\n        public static void removerCategoria(String nome) {\n            listaCategorias.removeIf(c -> c.getNomeCategoriaDisco().equals(nome));\n        }\n    }\n","size_bytes":5463},"src/main/java/Transformers/Discools/model/ItemDoPedido.java":{"content":"package Transformers.Discools.model;\n\npublic class ItemDoPedido {\n    private int id;\n    private DiscosCD disco;\n    private int quantidade;\n\n    public ItemDoPedido() {}\n\n    public ItemDoPedido(int id, DiscosCD disco, int quantidade) {\n        this.id = id;\n        this.disco = disco;\n        this.quantidade = quantidade;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public DiscosCD getDisco() {\n        return disco;\n    }\n\n    public void setDisco(DiscosCD disco) {\n        this.disco = disco;\n    }\n\n    public int getQuantidade() {\n        return quantidade;\n    }\n\n    public void setQuantidade(int quantidade) {\n        this.quantidade = quantidade;\n    }\n\n    public float getSubtotal() {\n        if (disco != null) {\n            return disco.getPreco() * quantidade;\n        }\n        return 0;\n    }\n}\n","size_bytes":894},"target/classes/static/css/style.css":{"content":":root{\n  --purple:#7623c7;\n  --purple-dark:#5e18a8;\n  --purple-light:#cfa3f1;\n  --ivory: #fdeecf;\n  --accent:#f7a51b; /* laranja indicador */\n  --gray:#838383;\n  --max-width:1200px;\n\n  /* controle das colunas da galeria: altere aqui (ex: 2,3,4) */\n  --product-columns: 4;\n}\n\n/* Reset simples */\n*{box-sizing:border-box;margin:0;padding:0}\nbody{font-family: \"Montserrat\", Arial, sans-serif;background:#f2f1f0;color:#333;line-height:1.2}\na{color:inherit;text-decoration:none}\n\n/* HEADER */\n.site-header {position: fixed;top: 0;left: 0;right: 0;z-index: 40;box-shadow: 0 15px 20px rgb(0, 0, 0,0.65);}\n.topbar{background:var(--purple);padding:15px 8%;box-shadow:0 3px 0 rgba(0,0,0,0.08)}\n.nav{display:flex;align-items:center;justify-content:space-between;max-width:var(--max-width);margin:0 auto}\n.nav-left,.nav-right{display:flex;gap:28px;align-items:center;list-style:none}\n.nav-item{color:#fff;font-weight:700}\n.nav-link{color:#fff;letter-spacing:1px}\n.nav-link.active{opacity:1}\n.nav-center-logo{position:absolute;left:45px;top:58px;transform:translateY(-50%)}\n.logo{height:155px; /* ajuste conforme necessário */ display:block}\n.icon-img{height:24px;display:block}\n.nav ul {margin-bottom: 0;}\n\n/* search (illustrative) */\n.search-wrapper {\n  position: relative;\n  width: 200px; /* ajuste se quiser */\n}\n.search-input {\n  width: 100%;\n  padding: 8px 35px 8px 10px; /* espaço para o ícone */\n  border: 1px solid #ccc;\n  border-radius: 5px;\n}\n#iconPesquisa {\n  position: absolute;\n  right: 10px;\n  top: 50%;\n  transform: translateY(-50%);\n  width: 18px;\n  height: 18px;\n  opacity: 0.7;\n  cursor: pointer;\n}\n\n/* layout main (debaixo do header) */\n.main-layout{padding-top:120px;transition:margin-right .25s ease}\n\n/* CARROSSEL PLACEHOLDER */\n.carousel-placeholder{height:320px;background:var(--purple-light);display:flex;align-items:center;justify-content:center;border-bottom:6px solid rgba(0,0,0,0.03)}\n\n\n\n/* CATALOG */\n.catalog{max-width:var(--max-width);margin:28px auto;padding:0 20px;margin-top: 120px}\n.category{margin:28px 0;background:transparent;padding:12px 0}\n.category-title{text-align:center;font-size:32px;font-weight:800;color:#555;margin-bottom:14px;letter-spacing:1px}\n\n/* GRID DE PRODUTOS */\n/* mudando --product-columns altera a quantidade de colunas */\n.product-grid{\n  display:grid;\n  grid-template-columns: repeat(var(--product-columns), 1fr);\n  gap:24px;\n  align-items:start;\n  padding:18px;\n  background:transparent;\n  justify-items:center;\n}\n\n/* cartão do produto */\n.product-card{\n  width:100%;\n  max-width:260px;\n  background:#fff;\n  border-radius:2px;\n  padding-bottom:8px;\n  box-shadow:0 2px 0 rgba(0,0,0,0.05);\n  display:flex;flex-direction:column;align-items:stretch;\n}\n.product-link{display:block;color:inherit}\n.product-thumb{height:220px;background:#f2ffd9;border:14px solid #fff;margin:8px}\n.product-meta{text-align:center;padding:8px 10px;font-size:14px;color:var(--gray)}\n.product-title{font-weight:800;letter-spacing:1px}\n.product-artist{font-size:12px;margin-top:6px;color:#a0a0a0}\n.product-price{margin-top:10px;font-weight:800}\n\n/* botao adicionar */\n.btn-add{background:var(--purple);color:white;border:none;padding:10px;margin:8px;border-radius:6px;cursor:pointer;font-weight:700}\n\n/* CART SIDEBAR */\n.cart-sidebar{\n  position:fixed;\n  top:0;\n  right:-380px; /* hidden by default */\n  width:380px;\n  height:100vh;\n  background: #c892ff;\n  box-shadow: -6px 0 20px rgba(0,0,0,0.15);\n  transition:right .25s ease;\n  z-index:60;\n  display:flex;flex-direction:column;\n}\n.cart-sidebar.open{ right:0; }\n.cart-header{padding:28px 20px;display:flex;align-items:center;justify-content:space-between}\n.cart-header h3{font-size:36px;color:#fff;letter-spacing:1px}\n.close-cart{background:transparent;border:none;font-size:20px;color:white;cursor:pointer}\n.cart-body{flex:1;padding:16px;overflow:auto}\n.cart-footer{padding:20px;display:flex;justify-content:center}\n.btn-buy{background:white;border-radius:10px;padding:14px 26px;border:none;font-size:18px;cursor:pointer;font-weight:800}\n\n/* quando o cart abre, empurra o conteúdo (conteúdo principal se desloca à esquerda) */\n.main-layout.shifted{ margin-right:380px; }\n\n/* mensagens vazio */\n.empty-msg{color:#2b1b3c;font-weight:700}\n\n/* responsividade */\n@media (max-width:1024px){\n  :root{ --product-columns: 2 } /* menos colunas em tablet */\n  .logo{height:56px}\n  .carousel-placeholder{height:240px}\n  .product-thumb{height:180px}\n  .cart-sidebar{width:340px}\n  .main-layout.shifted{ margin-right:340px;}\n}\n\n@media (max-width:640px){\n  :root{ --product-columns: 1 } /* mobile: 1 coluna */\n  .nav-center-logo{position:relative;left:auto;top:auto;transform:none;margin-right:12px}\n  .nav{flex-wrap:wrap;gap:8px}\n  .carousel-placeholder{height:180px}\n  .product-thumb{height:160px}\n  .cart-sidebar{width:100%;right:-100%}\n  .cart-sidebar.open{ right:0; }\n  .main-layout.shifted{ margin-right:0; } /* mobile: cart cobre, não empurra */\n}\n\n.footer {\n    background: #7d24c2;\n    color: white;\n    text-align: center;\n    padding: 15px;\n    margin-top: 40px;\n}\n","size_bytes":5045},"src/main/java/Transformers/Discools/service/DiscoService.java":{"content":"package Transformers.Discools.service;\n\nimport org.springframework.stereotype.Service;\nimport Transformers.Discools.repository.Banco;\nimport Transformers.Discools.model.CategoriaDisco;\nimport Transformers.Discools.model.DiscosCD;\nimport java.util.List;\n\n@Service\npublic class DiscoService {\n\n    public List<DiscosCD> listarTodos() {\n        return Banco.obterTodosDiscos();\n    }\n\n    public DiscosCD buscarPorId(int id) {\n        return Banco.buscarDiscoPorId(id);\n    }\n\n    // REGRA DE NEGÓCIO 1: Pega uma categoria (em alta, lançamentos, recomendados) e retorna os discos dela\n    public CategoriaDisco listarPorCategoria(int categoriaId) {\n        return Banco.buscarCategoriaPorId(categoriaId);\n    }\n\n}\n","size_bytes":713},"src/main/java/Transformers/Discools/controller/CategoriaController.java":{"content":"package Transformers.Discools.controller;\n\nimport Transformers.Discools.model.CategoriaDisco;\nimport Transformers.Discools.service.DiscoService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\n\n@RestController\n@RequestMapping(\"/api/categorias\")\npublic class CategoriaController {\n\n    @Autowired\n    private DiscoService discoService;\n\n    @GetMapping(\"/{id}\")\n    public ResponseEntity<CategoriaDisco> listarPorCategoria(@PathVariable int id) {\n        CategoriaDisco categoria = discoService.listarPorCategoria(id);\n\n        if (categoria == null) {\n            return ResponseEntity.notFound().build();\n        }\n\n        return ResponseEntity.ok(categoria);\n    }\n}\n","size_bytes":783},"src/main/java/Transformers/Discools/controller/HomeController.java":{"content":"package Transformers.Discools.controller;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\n\n@Controller\npublic class HomeController {\n\n    @GetMapping(\"/\")\n    public String index() {\n        return \"home\"; \n    }\n}\n","size_bytes":277},"src/main/resources/static/javascript/app.js":{"content":"/* Comportamento do carrinho, botão de adicionar, e integração mínima com backend REST */\n\n/* ---------- helpers de carrinho (usa localStorage) ---------- */\nconst CART_KEY = 'discools_cart_v1';\n\nfunction loadCart(){\n  const raw = localStorage.getItem(CART_KEY);\n  return raw ? JSON.parse(raw) : [];\n}\nfunction saveCart(cart){\n  localStorage.setItem(CART_KEY, JSON.stringify(cart));\n}\nfunction addToCart(item){\n  const cart = loadCart();\n  const found = cart.find(i=>i.id===item.id);\n  if(found) found.qty = (found.qty||1)+1;\n  else cart.push(Object.assign({qty:1}, item));\n  saveCart(cart);\n  renderCart();\n}\n\n/* ---------- render carrinho ---------- */\nconst cartSidebar = document.getElementById('cartSidebar');\nconst mainLayout = document.getElementById('mainLayout');\nconst cartToggle = document.getElementById('cartToggle');\n\nfunction openCart(){\n  cartSidebar.classList.add('open');\n  mainLayout.classList.add('shifted');\n  cartSidebar.setAttribute('aria-hidden','false');\n}\nfunction closeCart(){\n  cartSidebar.classList.remove('open');\n  mainLayout.classList.remove('shifted');\n  cartSidebar.setAttribute('aria-hidden','true');\n}\n\ndocument.getElementById('closeCart').addEventListener('click', closeCart);\ncartToggle.addEventListener('click', ()=> {\n  if(cartSidebar.classList.contains('open')) closeCart();\n  else openCart();\n});\n\n/* render items */\nfunction renderCart(){\n  const container = document.getElementById('cartItems');\n  const cart = loadCart();\n  container.innerHTML = '';\n  if(cart.length===0){\n    container.innerHTML = '<p class=\"empty-msg\">Nenhum produto no carrinho.</p>';\n    return;\n  }\n  cart.forEach(item=>{\n    const el = document.createElement('div');\n    el.className = 'cart-item';\n    el.style.padding = '12px';\n    el.style.borderBottom = '1px solid rgba(0,0,0,0.06)';\n    el.innerHTML = `\n      <div style=\"display:flex;justify-content:space-between;align-items:center\">\n        <div>\n          <div style=\"font-weight:800\">${item.title}</div>\n          <div style=\"font-size:13px;color:#2b1b3c\">R$ ${item.price.toFixed(2)} x ${item.qty}</div>\n        </div>\n        <div>\n          <button class=\"btn-dec\" data-id=\"${item.id}\">-</button>\n          <button class=\"btn-inc\" data-id=\"${item.id}\">+</button>\n        </div>\n      </div>\n    `;\n    container.appendChild(el);\n  });\n\n  // eventos simples de +/-:\n  container.querySelectorAll('.btn-inc').forEach(b=>{\n    b.addEventListener('click', e=>{\n      const id = Number(e.target.dataset.id);\n      const cart = loadCart();\n      const it = cart.find(i=>i.id===id);\n      if(it){ it.qty = (it.qty||1)+1; saveCart(cart); renderCart(); }\n    });\n  });\n  container.querySelectorAll('.btn-dec').forEach(b=>{\n    b.addEventListener('click', e=>{\n      const id = Number(e.target.dataset.id);\n      let cart = loadCart();\n      const it = cart.find(i=>i.id===id);\n      if(!it) return;\n      it.qty = (it.qty||1)-1;\n      if(it.qty<=0) cart = cart.filter(x=>x.id!==id);\n      saveCart(cart);\n      renderCart();\n    });\n  });\n}\n\n/* botão comprar -> redireciona (página ainda não criada) */\ndocument.getElementById('checkoutBtn').addEventListener('click', ()=>{\n  // por enquanto redireciona para /checkout (crie essa rota no seu Spring)\n  window.location.href = '/checkout';\n});\n\n/* vincular botões \"Adicionar\" nas cards */\ndocument.querySelectorAll('.btn-add').forEach(btn=>{\n  btn.addEventListener('click', e=>{\n    const prod = JSON.parse(e.currentTarget.dataset.prod);\n    addToCart(prod);\n    openCart();\n  });\n});\n\n/* carregar carrinho ao iniciar */\nrenderCart();\n\n\n\n\n/* ============================================\n   INTEGRAÇÃO: CARREGAR CATEGORIAS DINAMICAMENTE\n   ============================================ */\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const categories = document.querySelectorAll(\"article.category\");\n\n  categories.forEach(article => {\n    const categoriaId = article.dataset.categoryId;\n    const titleEl = article.querySelector(\".category-title\");\n    const gridEl  = article.querySelector(\".product-grid\");\n\n    carregarCategoria(categoriaId, titleEl, gridEl);\n  });\n});\n\n/**\n * Carrega uma categoria do Spring:\n * GET /api/categorias/{id}\n */\nasync function carregarCategoria(id, titleElement, gridElement) {\n  try {\n    const response = await fetch(`/api/categorias/${id}`);\n\n    if (!response.ok) {\n      console.error(\"Erro ao carregar categoria ID:\", id);\n      return;\n    }\n\n    const categoria = await response.json();\n\n    /* ---------- 1. TÍTULO DA CATEGORIA ---------- */\n    titleElement.textContent = categoria.nome;\n\n    /* ---------- 2. LIMPA O GRID ---------- */\n    gridElement.innerHTML = \"\";\n\n    /* ---------- 3. INSERE OS PRODUTOS ---------- */\n    categoria.discosCd.forEach(disco => {\n      const card = document.createElement(\"div\");\n      card.className = \"product-card\";\n      card.dataset.id = disco.id;\n\n      card.innerHTML = `\n        <a href=\"/product/${disco.id}\" class=\"product-link\">\n          <div class=\"product-thumb\">\n            <img src=\"${disco.capa}\" alt=\"${disco.nome}\">\n          </div>\n          <div class=\"product-meta\">\n            <div class=\"product-title\">${disco.nome}</div>\n            <div class=\"product-artist\">${disco.artista}</div>\n            <div class=\"product-price\">R$ ${disco.preco.toFixed(2)}</div>\n          </div>\n        </a>\n        \n        <button class=\"btn-add\" data-prod='${JSON.stringify({\n          id: disco.id,\n          title: disco.nome,\n          price: disco.preco\n        })}'>\n          Adicionar\n        </button>\n      `;\n\n      gridElement.appendChild(card);\n    });\n\n    /* ---------- 4. REBIND DOS BOTÕES \"ADICIONAR\" ---------- */\n    gridElement.querySelectorAll(\".btn-add\").forEach(btn => {\n      btn.addEventListener(\"click\", e => {\n        const prod = JSON.parse(e.currentTarget.dataset.prod);\n        addToCart(prod);\n        openCart();\n      });\n    });\n\n  } catch (error) {\n    console.error(\"Erro inesperado ao carregar categoria:\", error);\n  }\n}\n\n/*\n  // re-bind events para os novos botões:\n  document.querySelectorAll('.btn-add').forEach(btn=>{\n    btn.removeEventListener && btn.removeEventListener('click', ()=>{});\n    btn.addEventListener('click', e=>{\n      const prod = JSON.parse(e.currentTarget.dataset.prod);\n      addToCart(prod);\n      openCart();\n    });\n  });\n}\n\n Exemplo de uso (descomente quando tiver endpoint):\nfetch('/api/products')\n  .then(r=>r.json())\n  .then(data => renderProducts(data));\n*/\n\n","size_bytes":6460},"src/main/java/Transformers/Discools/repository/PovoaBanco.java":{"content":"package Transformers.Discools.repository;\n\nimport Transformers.Discools.model.DiscosCD;\nimport Transformers.Discools.model.Usuario;\nimport Transformers.Discools.model.CategoriaDisco;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class PovoaBanco {\n\n    public PovoaBanco() {\n        carregarDadosIniciais();\n    }\n\n    // ===================== DADOS INICIAIS =====================\n    private void carregarDadosIniciais() {\n\n        // Criação de todos os produtos do sistema\n        DiscosCD disco1 = new DiscosCD(1, \"this is what ____ feels like\", \"JVKE\", \"Pop\", 42, 59.90f, \"Um dos álbuns mais lindos da história.\", 10, \"CD\", \"/midia/capas/capa1.jpg\");\n        Banco.adicionarDisco(disco1);\n\n        DiscosCD disco2 = new DiscosCD(2, \"Thriller\", \"Michael Jackson\", \"Pop\", 42, 79.90f, \"O disco mais vendido de todos os tempos, um clássico absoluto.\", 12, \"Vinil\", \"/midia/capas/capa1.jpg\");\n        Banco.adicionarDisco(disco2);\n\n        DiscosCD disco3 = new DiscosCD(3, \"Back in Black\", \"AC/DC\", \"Rock\", 41, 69.90f, \"Um dos maiores álbuns de rock da história, cheio de energia.\", 8, \"CD\", \"/midia/capas/capa1.jpg\");\n        Banco.adicionarDisco(disco3);\n\n        DiscosCD disco4 = new DiscosCD(4, \"Nevermind\", \"Nirvana\", \"Grunge\", 49, 72.50f, \"O álbum que marcou uma geração e mudou o rock para sempre.\", 7, \"Vinil\", \"/midia/capas/capa1.jpg\");\n        Banco.adicionarDisco(disco4);\n\n        DiscosCD disco5 = new DiscosCD(5, \"Abbey Road\", \"The Beatles\", \"Rock\", 47, 84.90f, \"Clássico atemporal dos Beatles, com produção impecável.\", 9, \"Vinil\", \"/midia/capas/capa1.jpg\");\n        Banco.adicionarDisco(disco5);\n\n        DiscosCD disco6 = new DiscosCD(6, \"Rumours\", \"Fleetwood Mac\", \"Rock\", 39, 74.90f, \"Um dos discos mais icônicos da história, cheio de harmonias perfeitas.\", 11, \"CD\", \"/midia/capas/capa1.jpg\");\n        Banco.adicionarDisco(disco6);\n\n        DiscosCD disco7 = new DiscosCD(7, \"Hotel California\", \"Eagles\", \"Rock\", 43, 69.90f, \"Um marco do rock clássico, com guitarras marcantes e identidade única.\", 10, \"CD\", \"/midia/capas/capa1.jpg\");\n        Banco.adicionarDisco(disco7);\n\n        DiscosCD disco8 = new DiscosCD(8, \"The Dark Side of the Moon\", \"Pink Floyd\", \"Progressive Rock\", 42, 89.90f, \"Obra-prima conceitual com som inovador e atmosfera única.\", 5, \"Vinil\", \"/midia/capas/capa1.jpg\");\n        Banco.adicionarDisco(disco8);\n\n        DiscosCD disco9 = new DiscosCD(9, \"Born to Die\", \"Lana Del Rey\", \"Indie Pop\", 50, 69.90f, \"Álbum cinematográfico com estética marcante e melancólica.\", 13, \"CD\", \"/midia/capas/capa1.jpg\");\n        Banco.adicionarDisco(disco9);\n\n        DiscosCD disco10 = new DiscosCD(10, \"21\", \"Adele\", \"Soul/Pop\", 48, 75.90f, \"Um dos discos mais premiados da década, com vocais poderosos.\", 11, \"CD\", \"/midia/capas/capa1.jpg\");\n        Banco.adicionarDisco(disco10);\n\n        DiscosCD disco11 = new DiscosCD(11, \"Come Away With Me\", \"Norah Jones\", \"Jazz\", 40, 64.90f, \"Um álbum suave, elegante e premiado com vários Grammys.\", 8, \"CD\", \"/midia/capas/capa1.jpg\");\n        Banco.adicionarDisco(disco11);\n\n        DiscosCD disco12 = new DiscosCD(12, \"Legend\", \"Bob Marley & The Wailers\", \"Reggae\", 51, 72.90f, \"A coletânea definitiva de Bob Marley, atemporal e cheia de vida.\", 12, \"Vinil\", \"/midia/capas/capa1.jpg\");\n        Banco.adicionarDisco(disco12);\n\n\n        // ========== CATEGORIAS DA HOME ==========\n        Banco.adicionarCategoria(new CategoriaDisco(1, \"Em alta\", new ArrayList<>(List.of(disco1, disco2, disco3, disco4))));\n        Banco.adicionarCategoria(new CategoriaDisco(2, \"Lançamentos\", new ArrayList<>(List.of(disco5, disco6, disco7, disco8))));\n        Banco.adicionarCategoria(new CategoriaDisco(3, \"Recomendados\", new ArrayList<>(List.of(disco9, disco10, disco11, disco12))));\n    }\n\n}\n","size_bytes":3795},"src/main/resources/static/css/style.css":{"content":":root{\n  --purple:#7623c7;\n  --purple-dark:#5e18a8;\n  --purple-light:#cfa3f1;\n  --ivory: #fdeecf;\n  --accent:#f7a51b; /* laranja indicador */\n  --gray:#838383;\n  --max-width:1200px;\n\n  /* controle das colunas da galeria: altere aqui (ex: 2,3,4) */\n  --product-columns: 4;\n}\n\n/* Reset simples */\n*{box-sizing:border-box;margin:0;padding:0}\nbody{font-family: \"Montserrat\", Arial, sans-serif;background:#f2f1f0;color:#333;line-height:1.2}\na{color:inherit;text-decoration:none}\n\n/* HEADER */\n.site-header {position: fixed;top: 0;left: 0;right: 0;z-index: 40;box-shadow: 0 15px 20px rgb(0, 0, 0,0.65);}\n.topbar{background:var(--purple);padding:15px 8%;box-shadow:0 3px 0 rgba(0,0,0,0.08)}\n.nav{display:flex;align-items:center;justify-content:space-between;max-width:var(--max-width);margin:0 auto}\n.nav-left,.nav-right{display:flex;gap:28px;align-items:center;list-style:none}\n.nav-item{color:#fff;font-weight:700}\n.nav-link{color:#fff;letter-spacing:1px}\n.nav-link.active{opacity:1}\n.nav-center-logo{position:absolute;left:45px;top:58px;transform:translateY(-50%)}\n.logo{height:155px; /* ajuste conforme necessário */ display:block}\n.icon-img{height:24px;display:block}\n.nav ul {margin-bottom: 0;}\n\n/* search (illustrative) */\n.search-wrapper {\n  position: relative;\n  width: 200px; /* ajuste se quiser */\n}\n.search-input {\n  width: 100%;\n  padding: 8px 35px 8px 10px; /* espaço para o ícone */\n  border: 1px solid #ccc;\n  border-radius: 5px;\n}\n#iconPesquisa {\n  position: absolute;\n  right: 10px;\n  top: 50%;\n  transform: translateY(-50%);\n  width: 18px;\n  height: 18px;\n  opacity: 0.7;\n  cursor: pointer;\n}\n\n/* layout main (debaixo do header) */\n.main-layout{padding-top:120px;transition:margin-right .25s ease}\n\n/* CARROSSEL PLACEHOLDER */\n.carousel-placeholder{height:320px;background:var(--purple-light);display:flex;align-items:center;justify-content:center;border-bottom:6px solid rgba(0,0,0,0.03)}\n\n\n\n/* CATALOG */\n.catalog{max-width:var(--max-width);margin:28px auto;padding:0 20px;margin-top: 120px}\n.category{margin:28px 0;background:transparent;padding:12px 0}\n.category-title{text-align:center;font-size:32px;font-weight:800;color:#555;margin-bottom:14px;letter-spacing:1px}\n\n/* GRID DE PRODUTOS */\n/* mudando --product-columns altera a quantidade de colunas */\n.product-grid{\n  display:grid;\n  grid-template-columns: repeat(var(--product-columns), 1fr);\n  gap:24px;\n  align-items:start;\n  padding:18px;\n  background:transparent;\n  justify-items:center;\n}\n\n/* cartão do produto */\n.product-card{\n  width:100%;\n  max-width:260px;\n  background:#fff;\n  border-radius:2px;\n  padding-bottom:8px;\n  box-shadow:0 2px 0 rgba(0,0,0,0.05);\n  display:flex;flex-direction:column;align-items:stretch;\n}\n.product-link{display:block;color:inherit}\n.product-thumb{height:220px;background:#f2ffd9;border:14px solid #fff;margin:8px}\n.product-meta{text-align:center;padding:8px 10px;font-size:14px;color:var(--gray)}\n.product-title{font-weight:800;letter-spacing:1px}\n.product-artist{font-size:12px;margin-top:6px;color:#a0a0a0}\n.product-price{margin-top:10px;font-weight:800}\n\n/* botao adicionar */\n.btn-add{background:var(--purple);color:white;border:none;padding:10px;margin:8px;border-radius:6px;cursor:pointer;font-weight:700}\n\n/* CART SIDEBAR */\n.cart-sidebar{\n  position:fixed;\n  top:0;\n  right:-380px; /* hidden by default */\n  width:380px;\n  height:100vh;\n  background: #c892ff;\n  box-shadow: -6px 0 20px rgba(0,0,0,0.15);\n  transition:right .25s ease;\n  z-index:60;\n  display:flex;flex-direction:column;\n}\n.cart-sidebar.open{ right:0; }\n.cart-header{padding:28px 20px;display:flex;align-items:center;justify-content:space-between}\n.cart-header h3{font-size:36px;color:#fff;letter-spacing:1px}\n.close-cart{background:transparent;border:none;font-size:20px;color:white;cursor:pointer}\n.cart-body{flex:1;padding:16px;overflow:auto}\n.cart-footer{padding:20px;display:flex;justify-content:center}\n.btn-buy{background:white;border-radius:10px;padding:14px 26px;border:none;font-size:18px;cursor:pointer;font-weight:800}\n\n/* quando o cart abre, empurra o conteúdo (conteúdo principal se desloca à esquerda) */\n.main-layout.shifted{ margin-right:380px; }\n\n/* mensagens vazio */\n.empty-msg{color:#2b1b3c;font-weight:700}\n\n/* responsividade */\n@media (max-width:1024px){\n  :root{ --product-columns: 2 } /* menos colunas em tablet */\n  .logo{height:56px}\n  .carousel-placeholder{height:240px}\n  .product-thumb{height:180px}\n  .cart-sidebar{width:340px}\n  .main-layout.shifted{ margin-right:340px;}\n}\n\n@media (max-width:640px){\n  :root{ --product-columns: 1 } /* mobile: 1 coluna */\n  .nav-center-logo{position:relative;left:auto;top:auto;transform:none;margin-right:12px}\n  .nav{flex-wrap:wrap;gap:8px}\n  .carousel-placeholder{height:180px}\n  .product-thumb{height:160px}\n  .cart-sidebar{width:100%;right:-100%}\n  .cart-sidebar.open{ right:0; }\n  .main-layout.shifted{ margin-right:0; } /* mobile: cart cobre, não empurra */\n}\n\n.footer {\n    background: #7d24c2;\n    color: white;\n    text-align: center;\n    padding: 15px;\n    margin-top: 40px;\n}\n","size_bytes":5045},"src/main/java/Transformers/Discools/model/DiscosCD.java":{"content":"package Transformers.Discools.model;\n\npublic class DiscosCD {\n    private int id;\n    private String nome;\n    private String artista;\n    private String genero;\n    private int duracao;\n    private float preco;\n    private String descricao;\n    private int estoque;\n    private String tipo;\n    private String capa;\n\n    public DiscosCD() {}\n\n    public DiscosCD(int id, String nome, String artista, String genero, int duracao, float preco, \n                    String descricao, int estoque, String tipo, String capa) {\n        this.id = id;\n        this.nome = nome;\n        this.artista = artista;\n        this.genero = genero;\n        this.duracao = duracao;\n        this.preco = preco;\n        this.descricao = descricao;\n        this.estoque = estoque;\n        this.tipo = tipo;\n        this.capa = capa;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getNome() {\n        return nome;\n    }\n\n    public void setNome(String nome) {\n        this.nome = nome;\n    }\n\n    public String getArtista() {\n        return artista;\n    }\n\n    public void setArtista(String artista) {\n        this.artista = artista;\n    }\n\n    public String getGenero() {\n        return genero;\n    }\n\n    public void setGenero(String genero) {\n        this.genero = genero;\n    }\n\n    public int getDuracao() {\n        return duracao;\n    }\n\n    public void setDuracao(int duracao) {\n        this.duracao = duracao;\n    }\n\n    public float getPreco() {\n        return preco;\n    }\n\n    public void setPreco(float preco) {\n        this.preco = preco;\n    }\n\n    public String getDescricao() {\n        return descricao;\n    }\n\n    public void setDescricao(String descricao) {\n        this.descricao = descricao;\n    }\n\n    public int getEstoque() {\n        return estoque;\n    }\n\n    public void setEstoque(int estoque) {\n        this.estoque = estoque;\n    }\n\n    public String getTipo() {\n        return tipo;\n    }\n\n    public void setTipo(String tipo) {\n        this.tipo = tipo;\n    }\n\n    public String getCapa(){\n        return capa;\n    }\n\n    public void setCapa(String capa){\n        this.capa = capa;\n    }\n}\n","size_bytes":2188},"src/main/java/Transformers/Discools/model/CategoriaDisco.java":{"content":"package Transformers.Discools.model;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class CategoriaDisco {\n    private int id;\n    private String nomeCategoriaDisco;\n    private List<DiscosCD> discosCd;\n\n    public CategoriaDisco(int id, String nomeCategoriaDisco, List<DiscosCD> discosCd) {\n        this.id = id;\n        this.nomeCategoriaDisco = nomeCategoriaDisco;\n        this.discosCd = discosCd;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id){\n        this.id = id;\n    }\n\n    public String getNomeCategoriaDisco() {\n        return nomeCategoriaDisco;\n    }\n\n    public void setNomeCategoriaDisco(String nomeCategoriaDisco) {\n        this.nomeCategoriaDisco = nomeCategoriaDisco;\n    }\n\n    public List<DiscosCD> getDiscosCd() {\n        return discosCd;\n    }\n\n    public void setDiscosCd(List<DiscosCD> discosCd) {\n        this.discosCd = discosCd;\n    }\n}","size_bytes":917},"target/classes/static/javascript/app.js":{"content":"/* Comportamento do carrinho, botão de adicionar, e integração mínima com backend REST */\n\n/* ---------- helpers de carrinho (usa localStorage) ---------- */\nconst CART_KEY = 'discools_cart_v1';\n\nfunction loadCart(){\n  const raw = localStorage.getItem(CART_KEY);\n  return raw ? JSON.parse(raw) : [];\n}\nfunction saveCart(cart){\n  localStorage.setItem(CART_KEY, JSON.stringify(cart));\n}\nfunction addToCart(item){\n  const cart = loadCart();\n  const found = cart.find(i=>i.id===item.id);\n  if(found) found.qty = (found.qty||1)+1;\n  else cart.push(Object.assign({qty:1}, item));\n  saveCart(cart);\n  renderCart();\n}\n\n/* ---------- render carrinho ---------- */\nconst cartSidebar = document.getElementById('cartSidebar');\nconst mainLayout = document.getElementById('mainLayout');\nconst cartToggle = document.getElementById('cartToggle');\n\nfunction openCart(){\n  cartSidebar.classList.add('open');\n  mainLayout.classList.add('shifted');\n  cartSidebar.setAttribute('aria-hidden','false');\n}\nfunction closeCart(){\n  cartSidebar.classList.remove('open');\n  mainLayout.classList.remove('shifted');\n  cartSidebar.setAttribute('aria-hidden','true');\n}\n\ndocument.getElementById('closeCart').addEventListener('click', closeCart);\ncartToggle.addEventListener('click', ()=> {\n  if(cartSidebar.classList.contains('open')) closeCart();\n  else openCart();\n});\n\n/* render items */\nfunction renderCart(){\n  const container = document.getElementById('cartItems');\n  const cart = loadCart();\n  container.innerHTML = '';\n  if(cart.length===0){\n    container.innerHTML = '<p class=\"empty-msg\">Nenhum produto no carrinho.</p>';\n    return;\n  }\n  cart.forEach(item=>{\n    const el = document.createElement('div');\n    el.className = 'cart-item';\n    el.style.padding = '12px';\n    el.style.borderBottom = '1px solid rgba(0,0,0,0.06)';\n    el.innerHTML = `\n      <div style=\"display:flex;justify-content:space-between;align-items:center\">\n        <div>\n          <div style=\"font-weight:800\">${item.title}</div>\n          <div style=\"font-size:13px;color:#2b1b3c\">R$ ${item.price.toFixed(2)} x ${item.qty}</div>\n        </div>\n        <div>\n          <button class=\"btn-dec\" data-id=\"${item.id}\">-</button>\n          <button class=\"btn-inc\" data-id=\"${item.id}\">+</button>\n        </div>\n      </div>\n    `;\n    container.appendChild(el);\n  });\n\n  // eventos simples de +/-:\n  container.querySelectorAll('.btn-inc').forEach(b=>{\n    b.addEventListener('click', e=>{\n      const id = Number(e.target.dataset.id);\n      const cart = loadCart();\n      const it = cart.find(i=>i.id===id);\n      if(it){ it.qty = (it.qty||1)+1; saveCart(cart); renderCart(); }\n    });\n  });\n  container.querySelectorAll('.btn-dec').forEach(b=>{\n    b.addEventListener('click', e=>{\n      const id = Number(e.target.dataset.id);\n      let cart = loadCart();\n      const it = cart.find(i=>i.id===id);\n      if(!it) return;\n      it.qty = (it.qty||1)-1;\n      if(it.qty<=0) cart = cart.filter(x=>x.id!==id);\n      saveCart(cart);\n      renderCart();\n    });\n  });\n}\n\n/* botão comprar -> redireciona (página ainda não criada) */\ndocument.getElementById('checkoutBtn').addEventListener('click', ()=>{\n  // por enquanto redireciona para /checkout (crie essa rota no seu Spring)\n  window.location.href = '/checkout';\n});\n\n/* vincular botões \"Adicionar\" nas cards */\ndocument.querySelectorAll('.btn-add').forEach(btn=>{\n  btn.addEventListener('click', e=>{\n    const prod = JSON.parse(e.currentTarget.dataset.prod);\n    addToCart(prod);\n    openCart();\n  });\n});\n\n/* carregar carrinho ao iniciar */\nrenderCart();\n\n\n\n\n/* ============================================\n   INTEGRAÇÃO: CARREGAR CATEGORIAS DINAMICAMENTE\n   ============================================ */\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const categories = document.querySelectorAll(\"article.category\");\n\n  categories.forEach(article => {\n    const categoriaId = article.dataset.categoryId;\n    const titleEl = article.querySelector(\".category-title\");\n    const gridEl  = article.querySelector(\".product-grid\");\n\n    carregarCategoria(categoriaId, titleEl, gridEl);\n  });\n});\n\n/**\n * Carrega uma categoria do Spring:\n * GET /api/categorias/{id}\n */\nasync function carregarCategoria(id, titleElement, gridElement) {\n  try {\n    const response = await fetch(`/api/categorias/${id}`);\n\n    if (!response.ok) {\n      console.error(\"Erro ao carregar categoria ID:\", id);\n      return;\n    }\n\n    const categoria = await response.json();\n\n    /* ---------- 1. TÍTULO DA CATEGORIA ---------- */\n    titleElement.textContent = categoria.nome;\n\n    /* ---------- 2. LIMPA O GRID ---------- */\n    gridElement.innerHTML = \"\";\n\n    /* ---------- 3. INSERE OS PRODUTOS ---------- */\n    categoria.discosCd.forEach(disco => {\n      const card = document.createElement(\"div\");\n      card.className = \"product-card\";\n      card.dataset.id = disco.id;\n\n      card.innerHTML = `\n        <a href=\"/product/${disco.id}\" class=\"product-link\">\n          <div class=\"product-thumb\">\n            <img src=\"${disco.capa}\" alt=\"${disco.nome}\">\n          </div>\n          <div class=\"product-meta\">\n            <div class=\"product-title\">${disco.nome}</div>\n            <div class=\"product-artist\">${disco.artista}</div>\n            <div class=\"product-price\">R$ ${disco.preco.toFixed(2)}</div>\n          </div>\n        </a>\n        \n        <button class=\"btn-add\" data-prod='${JSON.stringify({\n          id: disco.id,\n          title: disco.nome,\n          price: disco.preco\n        })}'>\n          Adicionar\n        </button>\n      `;\n\n      gridElement.appendChild(card);\n    });\n\n    /* ---------- 4. REBIND DOS BOTÕES \"ADICIONAR\" ---------- */\n    gridElement.querySelectorAll(\".btn-add\").forEach(btn => {\n      btn.addEventListener(\"click\", e => {\n        const prod = JSON.parse(e.currentTarget.dataset.prod);\n        addToCart(prod);\n        openCart();\n      });\n    });\n\n  } catch (error) {\n    console.error(\"Erro inesperado ao carregar categoria:\", error);\n  }\n}\n\n/*\n  // re-bind events para os novos botões:\n  document.querySelectorAll('.btn-add').forEach(btn=>{\n    btn.removeEventListener && btn.removeEventListener('click', ()=>{});\n    btn.addEventListener('click', e=>{\n      const prod = JSON.parse(e.currentTarget.dataset.prod);\n      addToCart(prod);\n      openCart();\n    });\n  });\n}\n\n Exemplo de uso (descomente quando tiver endpoint):\nfetch('/api/products')\n  .then(r=>r.json())\n  .then(data => renderProducts(data));\n*/\n\n","size_bytes":6460},"src/main/java/Transformers/Discools/model/Pedido.java":{"content":"package Transformers.Discools.model;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Pedido {\n    private int id;\n    private Usuario usuario;\n    private List<ItemDoPedido> itens;\n\n    public Pedido() {\n        this.itens = new ArrayList<>();\n    }\n\n    public Pedido(int id, List<ItemDoPedido> itens) {\n        this.id = id;\n        this.itens = itens;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public Usuario getUsuario() {\n        return usuario;\n    }\n\n    public void setUsuario(Usuario usuario) {\n        this.usuario = usuario;\n    }\n\n    public List<ItemDoPedido> getItens() {\n        return itens;\n    }\n\n    public void setItens(List<ItemDoPedido> itens) {\n        this.itens = itens;\n    }\n\n    public float getTotal() {\n        float total = 0;\n        for (ItemDoPedido item : itens) {\n            total += item.getSubtotal();\n        }\n        return total;\n    }\n\n    public void adicionarItem(ItemDoPedido item) {\n        itens.add(item);\n    }\n\n    public void removerItem(ItemDoPedido item) {\n        itens.remove(item);\n    }\n}\n","size_bytes":1147}},"version":2}